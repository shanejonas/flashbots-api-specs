openrpc: 1.2.4
info:
  title: Flashbots JSON-RPC API
  version: 1.0.0
  description: >-
    This section provides an interactive reference for Flashbots
    JSON-RPC API endpoint. The API builds on a set of standard Ethereum methods with
    Flashbots-specific enhancements, and is designed for seamless integration
    into dapps.
servers:
  - url: https://rpc-{testnet}.flashbots.net/${mode}
    variables:
      testnet:
        default: sepolia
        description: Testnet network
        enum:
          - sepolia
          - staging
      mode:
        default: ""
        description: Enable fast mode
        enum:
          - fast
  - url: https://rpc.flashbots.net/${mode}
    variables:
      mode:
        default: ""
        description: Enable fast mode
        enum:
          - fast
methods:
  # rest methods
  # GET /bundle?id=<bundleid>
  # DELETE /bundle?id=<bundleid>

  # overrides
  - name: eth_sendRawTransaction # sent to relay instead of upstream, if whitehat bundle then just saves it and returns the hash
    # ?bundleId REST parameter
    params:
      - name: TransactionSigned
        summary: The raw signed transaction
        required: true
        schema:
          $ref: "#/components/schemas/TransactionSigned"
  - name: eth_getTransactionCount # deals with txes not landing and getting stuck in metamask pending
    params:
      - name: Address
        summary: hex encoded address
        schema:
          $ref: "#/components/schemas/Address"
    result:
      name: TransactounCount
      summary: Addresses transaction count. Usually used for a nonce.
      schema:
        $ref: "#/components/schemas/uint"
  - name: eth_getTransactionReceipt # deals with txes not landing and getting stuck in metamask pending
    params: []
  - name: eth_getBalance # returns 100 ETH if using whitehat bundles
    params: []
  - name: eth_call # rewrites BalanceChecker contract calls for whitehat bundles
    params: []
  # cached
  - name: web3_clientVersion
    params: []
  - name: net_version
    params: []
  # additional methods
  - name: eth_sendPrivateTransaction
    tags:
      - $ref: "#/components/tags/Flashbots"
    summary: Send a single private transaction. Private transactions are sent directly to validators and not included in the public mempool.
    params:
      - name: TransactionSigned
        summary: The raw signed transaction
        required: true
        schema:
          $ref: "#/components/schemas/TransactionSigned"
      - name: MaxBlockNumber
        summary: The maximum block number at which the transaction should be included
        schema:
          $ref: "#/components/schemas/uint"
      - name: Preferences
        summary: Transaction preferences
        schema:
          type: object
          properties:
            fast:
              type: boolean
    result:
      name: TransactionHash
      schema:
        $ref: "#/components/schemas/hash32"
    examples:
      - name: sendPrivateTransactionExample,
        params:
          - name: TransactionString
            value: "0x02f87205158459682f00850c51e9727a82520894477db63b8e73aea96f201c3c4f5e8fbfcdd18b5c87038d7ea4c6800080c080a0312d6375e578ab953a41456d4be583a46dced97a9e38f349bb8e7b63d14cfc1ea001daea40332180670568a1864e6d3f910b194903128d4a0a5c499597f3f6ff40"
          - name: MaxBlockNumber
            value: "0x2540be400"
          - name: Preferences,
            value:
              fast: true
        result:
          name: ResultExample
          value: "0xb1770efb14906e509893b6190359658208ae64d0c56e22f748a1b0869885559e"
components:
  tags:
    Flashbots:
      name: Flashbots
      description: Flashbots specific method
